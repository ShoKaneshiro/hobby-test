<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ç¿’ã„äº‹ã•ãŒã—ï¼ã‚ãªãŸã«ã´ã£ãŸã‚Šã®ç¿’ã„äº‹ãƒ†ã‚¹ãƒˆ</title>
<link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;500;700;900&family=M+PLUS+Rounded+1c:wght@400;700;900&display=swap" rel="stylesheet">
<style>
  :root {
    --sky: #4FC3F7;
    --sunny: #FFD54F;
    --grass: #81C784;
    --coral: #FF8A65;
    --lavender: #CE93D8;
    --mint: #80CBC4;
    --pink: #F48FB1;
    --navy: #1A237E;
    --bg: #FFF8E1;
    --card-shadow: 0 6px 20px rgba(0,0,0,0.10);
  }
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body {
    font-family: 'Zen Maru Gothic', sans-serif;
    background: var(--bg);
    min-height: 100vh;
    color: #333;
    overflow-x: hidden;
  }

  /* ===== HEADER ===== */
  header {
    background: linear-gradient(135deg, #FF6B6B 0%, #FFD93D 40%, #6BCB77 70%, #4D96FF 100%);
    text-align: center;
    padding: 40px 20px 30px;
    position: relative;
    overflow: hidden;
  }
  header::before {
    content: 'ğŸŒŸâœ¨ğŸ¯ğŸŒˆâš¡ğŸªğŸ¨ğŸµğŸ†ğŸŒ¸';
    position: absolute; top: 5px; left: 0; right: 0;
    font-size: 22px; letter-spacing: 8px;
    opacity: 0.4;
  }
  header h1 {
    font-family: 'M PLUS Rounded 1c', sans-serif;
    font-weight: 900;
    font-size: clamp(22px, 5vw, 42px);
    color: white;
    text-shadow: 3px 3px 0 rgba(0,0,0,0.2);
    line-height: 1.3;
  }
  header p {
    color: white;
    margin-top: 10px;
    font-size: 15px;
    text-shadow: 1px 1px 0 rgba(0,0,0,0.2);
  }

  /* ===== SECTION WRAPPER ===== */
  .section { display: none; }
  .section.active { display: block; }

  /* ===== 100 HOBBIES ===== */
  #sec-list { padding: 30px 16px 20px; max-width: 900px; margin: 0 auto; }
  #sec-list h2 {
    font-size: 22px;
    font-weight: 900;
    text-align: center;
    margin-bottom: 6px;
    color: var(--navy);
  }
  #sec-list .sub {
    text-align: center;
    color: #666;
    font-size: 14px;
    margin-bottom: 24px;
  }
  .category {
    margin-bottom: 26px;
    background: white;
    border-radius: 20px;
    box-shadow: var(--card-shadow);
    overflow: hidden;
  }
  .cat-header {
    padding: 12px 20px;
    font-size: 16px;
    font-weight: 900;
    color: white;
    display: flex;
    align-items: center;
    gap: 8px;
  }
  .hobby-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
    gap: 10px;
    padding: 16px;
  }
  .hobby-chip {
    background: #f5f5f5;
    border-radius: 12px;
    padding: 8px 10px;
    font-size: 13px;
    text-align: center;
    border: 2px solid transparent;
    cursor: default;
    transition: transform 0.2s;
    line-height: 1.4;
  }
  .hobby-chip:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  }
  .start-btn-wrap {
    text-align: center;
    margin: 30px 0 10px;
  }
  .big-btn {
    display: inline-block;
    background: linear-gradient(135deg, #FF6B6B, #FFD93D);
    color: white;
    font-family: 'M PLUS Rounded 1c', sans-serif;
    font-weight: 900;
    font-size: 20px;
    padding: 18px 50px;
    border-radius: 60px;
    border: none;
    cursor: pointer;
    box-shadow: 0 6px 20px rgba(255,107,107,0.4);
    transition: transform 0.2s, box-shadow 0.2s;
    text-shadow: 1px 1px 0 rgba(0,0,0,0.1);
  }
  .big-btn:hover {
    transform: translateY(-3px) scale(1.04);
    box-shadow: 0 10px 30px rgba(255,107,107,0.5);
  }

  /* ===== QUIZ ===== */
  #sec-quiz { padding: 30px 16px; max-width: 680px; margin: 0 auto; }
  .progress-bar-wrap {
    background: #ddd;
    border-radius: 99px;
    height: 10px;
    margin-bottom: 28px;
    overflow: hidden;
  }
  .progress-bar {
    height: 100%;
    background: linear-gradient(90deg, #FF6B6B, #FFD93D, #6BCB77);
    border-radius: 99px;
    transition: width 0.5s ease;
  }
  .question-card {
    background: white;
    border-radius: 24px;
    box-shadow: var(--card-shadow);
    padding: 30px 24px;
  }
  .q-num {
    font-size: 13px;
    color: #999;
    margin-bottom: 8px;
    font-weight: 700;
  }
  .q-text {
    font-size: clamp(16px, 3vw, 20px);
    font-weight: 900;
    color: var(--navy);
    margin-bottom: 24px;
    line-height: 1.6;
  }
  .options {
    display: flex;
    flex-direction: column;
    gap: 12px;
  }
  .opt-btn {
    background: #f8f8f8;
    border: 2px solid #e0e0e0;
    border-radius: 16px;
    padding: 16px 20px;
    text-align: left;
    font-family: 'Zen Maru Gothic', sans-serif;
    font-size: 15px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.2s;
    color: #333;
    display: flex;
    align-items: center;
    gap: 12px;
  }
  .opt-btn:hover {
    border-color: #FF6B6B;
    background: #fff0f0;
    transform: translateX(4px);
  }
  .opt-btn.selected {
    border-color: #FF6B6B;
    background: linear-gradient(135deg, #fff0f0, #fff8e1);
    color: #c62828;
  }
  .opt-icon { font-size: 22px; flex-shrink: 0; }
  .nav-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 24px;
  }
  .nav-btn {
    background: white;
    border: 2px solid #ddd;
    border-radius: 12px;
    padding: 10px 24px;
    font-family: 'Zen Maru Gothic', sans-serif;
    font-weight: 700;
    cursor: pointer;
    font-size: 14px;
    transition: all 0.2s;
  }
  .nav-btn:hover { border-color: #aaa; background: #f5f5f5; }
  .nav-btn.primary {
    background: linear-gradient(135deg, #6BCB77, #4D96FF);
    border-color: transparent;
    color: white;
  }
  .nav-btn.primary:hover { opacity: 0.85; }
  .nav-btn:disabled { opacity: 0.3; cursor: not-allowed; }

  /* ===== RESULT ===== */
  #sec-result { padding: 30px 16px 50px; max-width: 720px; margin: 0 auto; }
  .result-header {
    text-align: center;
    margin-bottom: 30px;
  }
  .result-header h2 {
    font-size: clamp(22px, 5vw, 36px);
    font-weight: 900;
    color: var(--navy);
    line-height: 1.3;
  }
  .result-header p { color: #666; margin-top: 8px; }
  .result-card {
    background: white;
    border-radius: 24px;
    box-shadow: var(--card-shadow);
    padding: 24px;
    margin-bottom: 16px;
    display: flex;
    align-items: center;
    gap: 20px;
    position: relative;
    overflow: hidden;
    transition: transform 0.2s;
  }
  .result-card:hover { transform: translateY(-3px); }
  .result-card::before {
    content: '';
    position: absolute; left: 0; top: 0; bottom: 0;
    width: 6px;
  }
  .rank-badge {
    width: 54px;
    height: 54px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'M PLUS Rounded 1c', sans-serif;
    font-weight: 900;
    font-size: 22px;
    flex-shrink: 0;
    color: white;
  }
  .result-info { flex: 1; }
  .result-hobby {
    font-size: clamp(18px, 3vw, 22px);
    font-weight: 900;
    color: #222;
  }
  .result-reason {
    font-size: 13px;
    color: #777;
    margin-top: 4px;
    line-height: 1.6;
  }
  .result-emoji { font-size: 40px; }
  .retry-wrap {
    text-align: center;
    margin-top: 30px;
    display: flex;
    gap: 16px;
    justify-content: center;
    flex-wrap: wrap;
  }
  .back-list-btn {
    background: white;
    border: 2px solid var(--navy);
    color: var(--navy);
    font-family: 'M PLUS Rounded 1c', sans-serif;
    font-weight: 700;
    font-size: 16px;
    padding: 14px 30px;
    border-radius: 60px;
    cursor: pointer;
    transition: all 0.2s;
  }
  .back-list-btn:hover { background: var(--navy); color: white; }

  /* top 1 ç‰¹åˆ¥ */
  .result-card:nth-child(1) { background: linear-gradient(135deg, #fff9c4, #fff); }
  .result-card:nth-child(1) .rank-badge { background: linear-gradient(135deg, #FFD700, #FFA000); }
  .result-card:nth-child(1)::before { background: #FFD700; }
  .result-card:nth-child(2) .rank-badge { background: linear-gradient(135deg, #90A4AE, #607D8B); }
  .result-card:nth-child(2)::before { background: #90A4AE; }
  .result-card:nth-child(3) .rank-badge { background: linear-gradient(135deg, #FF8A65, #F4511E); }
  .result-card:nth-child(3)::before { background: #FF8A65; }
  .result-card:nth-child(4) .rank-badge { background: linear-gradient(135deg, #81C784, #388E3C); }
  .result-card:nth-child(4)::before { background: #81C784; }
  .result-card:nth-child(5) .rank-badge { background: linear-gradient(135deg, #CE93D8, #8E24AA); }
  .result-card:nth-child(5)::before { background: #CE93D8; }

  @keyframes pop { 0%{opacity:0;transform:scale(0.8) translateY(20px)} 100%{opacity:1;transform:scale(1) translateY(0)} }
  .result-card { animation: pop 0.4s ease forwards; }
  .result-card:nth-child(1) { animation-delay: 0.05s; opacity:0; }
  .result-card:nth-child(2) { animation-delay: 0.15s; opacity:0; }
  .result-card:nth-child(3) { animation-delay: 0.25s; opacity:0; }
  .result-card:nth-child(4) { animation-delay: 0.35s; opacity:0; }
  .result-card:nth-child(5) { animation-delay: 0.45s; opacity:0; }
</style>
</head>
<body>

<header>
  <h1>ğŸŒŸ ç¿’ã„äº‹ã•ãŒã—ï¼<br>ã‚ãªãŸã«ã´ã£ãŸã‚Šã®ç¿’ã„äº‹ãƒ†ã‚¹ãƒˆ ğŸŒŸ</h1>
  <p>100ã“ã®ç¿’ã„äº‹ã‹ã‚‰ã€ã‚ãªãŸã«ã´ã£ãŸã‚Šã®Top5ã‚’è¦‹ã¤ã‘ã‚ˆã†ï¼</p>
</header>

<!-- ===== ã‚»ã‚¯ã‚·ãƒ§ãƒ³1: 100ã“ã®ç¿’ã„äº‹ãƒªã‚¹ãƒˆ ===== -->
<div id="sec-list" class="section active">
  <h2>ğŸ“‹ 100ã“ã®ç¿’ã„äº‹ãƒªã‚¹ãƒˆ</h2>
  <p class="sub">ã¾ãšã¯å…¨éƒ¨è¦‹ã¦ã¿ã‚ˆã†ï¼æ°—ã«ãªã‚‹ã‚‚ã®ã¯ã‚ã‚‹ã‹ãªï¼Ÿ</p>
  <div id="hobby-list-container"></div>
  <div class="start-btn-wrap">
    <button class="big-btn" onclick="goToQuiz()">
      ğŸ¯ ãƒ†ã‚¹ãƒˆã‚’ã‚¹ã‚¿ãƒ¼ãƒˆã™ã‚‹ï¼
    </button>
  </div>
</div>

<!-- ===== ã‚»ã‚¯ã‚·ãƒ§ãƒ³2: ã‚¯ã‚¤ã‚º ===== -->
<div id="sec-quiz" class="section">
  <div class="progress-bar-wrap">
    <div class="progress-bar" id="progress-bar" style="width:0%"></div>
  </div>
  <div class="question-card">
    <div class="q-num" id="q-num">å•é¡Œ 1 / 5</div>
    <div class="q-text" id="q-text"></div>
    <div class="options" id="q-options"></div>
    <div class="nav-row">
      <button class="nav-btn" id="prev-btn" onclick="prevQ()" disabled>â† ã‚‚ã©ã‚‹</button>
      <button class="nav-btn primary" id="next-btn" onclick="nextQ()">ã¤ãã¸ â†’</button>
    </div>
  </div>
</div>

<!-- ===== ã‚»ã‚¯ã‚·ãƒ§ãƒ³3: çµæœ ===== -->
<div id="sec-result" class="section">
  <div class="result-header">
    <h2>ğŸ‰ ã‚ãªãŸã«ã´ã£ãŸã‚Šã®<br>ç¿’ã„äº‹Top5ï¼</h2>
    <p>ç­”ãˆã‚’ã‚‚ã¨ã«ã€ã‚ãªãŸã«åˆã„ãã†ãªç¿’ã„äº‹ã‚’ãˆã‚‰ã³ã¾ã—ãŸï¼</p>
  </div>
  <div id="result-list"></div>
  <div class="retry-wrap">
    <button class="back-list-btn" onclick="goToList()">ğŸ“‹ ãƒªã‚¹ãƒˆã«ã‚‚ã©ã‚‹</button>
    <button class="big-btn" onclick="restartQuiz()">ğŸ”„ ã‚‚ã†ä¸€åº¦ãƒ†ã‚¹ãƒˆã™ã‚‹</button>
  </div>
</div>

<script>
/* ====================================
   ãƒ‡ãƒ¼ã‚¿å®šç¾©
==================================== */
const categories = [
  {
    name: "âš½ ã‚¹ãƒãƒ¼ãƒ„ï¼ˆãƒãƒ¼ãƒ ï¼‰",
    color: "#4CAF50",
    hobbies: [
      "ã‚µãƒƒã‚«ãƒ¼", "ãƒã‚¹ã‚±ãƒƒãƒˆãƒœãƒ¼ãƒ«", "ãƒãƒ¬ãƒ¼ãƒœãƒ¼ãƒ«",
      "é‡çƒ", "ã‚½ãƒ•ãƒˆãƒœãƒ¼ãƒ«", "ãƒãƒ³ãƒ‰ãƒœãƒ¼ãƒ«",
      "ãƒ©ã‚°ãƒ“ãƒ¼", "ã‚¢ã‚¤ã‚¹ãƒ›ãƒƒã‚±ãƒ¼", "ãƒ‰ãƒƒã‚¸ãƒœãƒ¼ãƒ«",
      "ã‚¢ãƒ¡ãƒªã‚«ãƒ³ãƒ•ãƒƒãƒˆãƒœãƒ¼ãƒ«", "ãƒ©ã‚¯ãƒ­ã‚¹", "æ°´çƒ"
    ]
  },
  {
    name: "ğŸƒ ã‚¹ãƒãƒ¼ãƒ„ï¼ˆä¸€äººãƒ»å°‘äººæ•°ï¼‰",
    color: "#FF7043",
    hobbies: [
      "æ°´æ³³", "ä½“ãã†", "ãƒ†ãƒ‹ã‚¹",
      "å“çƒ", "ãƒãƒ‰ãƒŸãƒ³ãƒˆãƒ³", "é™¸ä¸Š",
      "æŸ”é“", "ç©ºæ‰‹", "å‰£é“",
      "åˆæ°—é“", "ãƒ¬ã‚¹ãƒªãƒ³ã‚°", "ãƒœãƒ«ãƒ€ãƒªãƒ³ã‚°",
      "ãƒ•ã‚£ã‚®ãƒ¥ã‚¢ã‚¹ã‚±ãƒ¼ãƒˆ", "ã‚¹ã‚­ãƒ¼ãƒ»ã‚¹ãƒãƒ¼ãƒœãƒ¼ãƒ‰", "é¦¬è¡“"
    ]
  },
  {
    name: "ğŸµ éŸ³æ¥½",
    color: "#9C27B0",
    hobbies: [
      "ãƒ”ã‚¢ãƒ", "ãƒã‚¤ã‚ªãƒªãƒ³", "ã‚®ã‚¿ãƒ¼",
      "ãƒ‰ãƒ©ãƒ ", "ãƒ•ãƒ«ãƒ¼ãƒˆ", "ãƒˆãƒ©ãƒ³ãƒšãƒƒãƒˆ",
      "ãƒã‚§ãƒ­", "ã‚¦ã‚¯ãƒ¬ãƒ¬", "å£°æ¥½ï¼ˆã†ãŸï¼‰",
      "åˆå”±", "å’Œå¤ªé¼“", "ä¸‰å‘³ç·šï¼ˆã—ã‚ƒã¿ã›ã‚“ï¼‰",
      "å°ºå…«ï¼ˆã—ã‚ƒãã¯ã¡ï¼‰"
    ]
  },
  {
    name: "ğŸ’ƒ ãƒ€ãƒ³ã‚¹ãƒ»æ¼”æŠ€",
    color: "#E91E63",
    hobbies: [
      "ãƒãƒ¬ã‚¨", "ãƒ’ãƒƒãƒ—ãƒ›ãƒƒãƒ—ãƒ€ãƒ³ã‚¹", "æ—¥æœ¬èˆè¸Šï¼ˆã¶ã‚ˆã†ï¼‰",
      "ãƒ•ãƒ©ãƒ€ãƒ³ã‚¹", "ç¤¾äº¤ãƒ€ãƒ³ã‚¹", "ãƒã‚¢ãƒ€ãƒ³ã‚¹",
      "æ¼”åŠ‡ãƒ»ãƒŸãƒ¥ãƒ¼ã‚¸ã‚«ãƒ«", "è½èªï¼ˆã‚‰ãã”ï¼‰", "ã‚ˆã•ã“ã„ã‚½ãƒ¼ãƒ©ãƒ³"
    ]
  },
  {
    name: "ğŸ¨ ã‚¢ãƒ¼ãƒˆãƒ»ã‚‚ã®ã¥ãã‚Š",
    color: "#FF9800",
    hobbies: [
      "çµµç”»ï¼ˆæ²¹çµµãƒ»æ°´å½©ãªã©ï¼‰", "æ›¸é“", "é™¶èŠ¸ï¼ˆã¨ã†ã’ã„ï¼‰",
      "å·¥ä½œãƒ»æœ¨å·¥", "æ‰‹èŠ¸ãƒ»ã¬ã„ãã‚‹ã¿ä½œã‚Š", "æŠ˜ã‚Šç´™ãƒ»åˆ‡ã‚Šç´™",
      "ãƒãƒ³ã‚¬ãƒ»ã‚¤ãƒ©ã‚¹ãƒˆ", "å†™çœŸ", "ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°",
      "ãƒ­ãƒœãƒƒãƒˆä½œã‚Š"
    ]
  },
  {
    name: "ğŸ“š å­¦ç¿’ãƒ»ã‚¹ã‚­ãƒ«",
    color: "#2196F3",
    hobbies: [
      "è‹±èªï¼ˆè‹±ä¼šè©±ï¼‰", "å­¦ç¿’å¡¾", "ãã‚ã°ã‚“",
      "ç¿’å­—ï¼ˆæ›¸ãæ–¹ï¼‰", "é€Ÿèª­ï¼ˆããã©ãï¼‰", "ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ï¼ˆå­¦ç¿’ï¼‰",
      "å°†æ£‹ï¼ˆã—ã‚‡ã†ãï¼‰", "å›²ç¢ï¼ˆã„ã”ï¼‰", "ãƒã‚§ã‚¹"
    ]
  },
  {
    name: "ğŸŒ¿ è‡ªç„¶ãƒ»ã‚¢ã‚¦ãƒˆãƒ‰ã‚¢",
    color: "#4CAF50",
    hobbies: [
      "ã‚¬ãƒ¼ãƒ‡ãƒ‹ãƒ³ã‚°ãƒ»æ¤ç‰©ãã ã¦", "æ–™ç†ãƒ»ãŠè“å­ä½œã‚Š", "é‡£ã‚Š",
      "ã‚­ãƒ£ãƒ³ãƒ—ãƒ»ã‚µãƒã‚¤ãƒãƒ«", "ç™»å±±ãƒ»ãƒã‚¤ã‚­ãƒ³ã‚°", "é‡é³¥è¦³å¯Ÿ",
      "å¤©ä½“ï¼ˆæ˜Ÿï¼‰è¦³å¯Ÿ", "è¾²æ¥­ä½“é¨“"
    ]
  },
  {
    name: "ğŸ§˜ ã“ã“ã‚ã¨ã‹ã‚‰ã ",
    color: "#00BCD4",
    hobbies: [
      "ãƒ¨ã‚¬", "åº§ç¦…ï¼ˆã–ãœã‚“ï¼‰", "ãƒã‚¤ãƒ³ãƒ‰ãƒ•ãƒ«ãƒã‚¹",
      "å›²ç¢ï¼ˆã„ã”ï¼‰", "è©©ï¼ˆã—ï¼‰ãƒ»ä¿³å¥ï¼ˆã¯ã„ãï¼‰ä½œã‚Š", "æ—¥è¨˜ãƒ»ä½œæ–‡",
      "èª­æ›¸ã‚¯ãƒ©ãƒ–"
    ]
  },
  {
    name: "ğŸ­ æ–‡åŒ–ãƒ»ä¼çµ±",
    color: "#795548",
    hobbies: [
      "èŒ¶é“ï¼ˆã•ã©ã†ï¼‰", "èŠ±é“ï¼ˆã¯ãªã¿ã¡ï¼‰ãƒ»ç”Ÿã‘èŠ±", "èƒ½ãƒ»ç‹‚è¨€ï¼ˆã®ã†ãƒ»ãã‚‡ã†ã’ã‚“ï¼‰",
      "ç€ç‰©ç€ä»˜ã‘ï¼ˆãã¤ã‘ï¼‰", "è¯é“ï¼ˆã‹ã©ã†ï¼‰", "é¦™é“ï¼ˆã“ã†ã©ã†ï¼‰"
    ]
  },
  {
    name: "ğŸš€ å…ˆé€²ãƒ»ãƒ¦ãƒ‹ãƒ¼ã‚¯",
    color: "#607D8B",
    hobbies: [
      "e-Sportsï¼ˆã‚²ãƒ¼ãƒ å¤§ä¼šï¼‰", "ãƒã‚¸ãƒƒã‚¯ãƒ»æ‰‹å“", "ã‚¸ãƒ£ã‚°ãƒªãƒ³ã‚°",
      "ãŠç¬‘ã„ãƒ»ã‚³ãƒ³ãƒˆ", "ç§‘å­¦å®Ÿé¨“ã‚¯ãƒ©ãƒ–", "å‹•ç”»ãƒ»æ˜ ãˆã¥ãã‚Š",
      "ãƒãƒƒãƒ‰ã‚­ãƒ£ã‚¹ãƒˆãƒ»ãƒ©ã‚¸ã‚ª"
    ]
  }
];

/* å…¨ç¿’ã„äº‹ã‚’ç•ªå·ä»˜ãã§ãƒ•ãƒ©ãƒƒãƒˆãƒªã‚¹ãƒˆã«å¤‰æ› */
let allHobbies = [];
categories.forEach(cat => cat.hobbies.forEach(h => allHobbies.push({ name: h, cat: cat.name })));
// 100å€‹ã«ãªã‚‹ã‚ˆã†ã«ãƒ€ãƒŸãƒ¼è£œå®Œï¼ˆæ—¢ã«100è¿‘ã„ãŒç¢ºèªæ¸ˆã¿ï¼‰

/* ====================================
   è³ªå•å®šç¾©ï¼ˆ5å•ï¼‰
==================================== */
const questions = [
  {
    text: "ğŸ¤” ä¼‘ã¿ã®æ—¥ã€ä½•ã‚’ã—ã¦ã„ã‚‹ã¨ããŒã„ã¡ã°ã‚“æ¥½ã—ã„ï¼Ÿ",
    options: [
      { icon: "ğŸƒ", label: "ä½“ã‚’æ€ã„åˆ‡ã‚Šå‹•ã‹ã™", tags: ["ã‚¹ãƒãƒ¼ãƒ„"] },
      { icon: "ğŸ¨", label: "ä½•ã‹ã‚’ä½œã£ãŸã‚Šçµµã‚’ã‹ã„ãŸã‚Šã™ã‚‹", tags: ["ã‚¢ãƒ¼ãƒˆ"] },
      { icon: "ğŸµ", label: "éŸ³æ¥½ã‚’ãã„ãŸã‚Šæ­Œã£ãŸã‚Šã™ã‚‹", tags: ["éŸ³æ¥½", "ãƒ€ãƒ³ã‚¹"] },
      { icon: "ğŸ“–", label: "æœ¬ã‚’èª­ã‚“ã ã‚Šè€ƒãˆãŸã‚Šã™ã‚‹", tags: ["å­¦ç¿’", "ã“ã“ã‚"] },
    ]
  },
  {
    text: "ğŸ’ª è‡ªåˆ†ã®ã©ã‚“ãªã¨ã“ã‚ã‚’ã®ã°ã—ãŸã„ï¼Ÿ",
    options: [
      { icon: "ğŸ¤¸", label: "ä½“åŠ›ãƒ»é‹å‹•", tags: ["ã‚¹ãƒãƒ¼ãƒ„"] },
      { icon: "ğŸ§ ", label: "é ­ã®ã‚ˆã•ãƒ»çŸ¥è­˜", tags: ["å­¦ç¿’", "ã“ã“ã‚"] },
      { icon: "âœ¨", label: "ã‚»ãƒ³ã‚¹ãƒ»è¡¨ã’ã‚“åŠ›", tags: ["ã‚¢ãƒ¼ãƒˆ", "éŸ³æ¥½", "ãƒ€ãƒ³ã‚¹"] },
      { icon: "ğŸŒ", label: "ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»è‹±èª", tags: ["å­¦ç¿’"] },
    ]
  },
  {
    text: "ğŸ‘¥ ç¿’ã„äº‹ã¯ã©ã‚“ãªé›°å›²æ°—ï¼ˆãµã‚“ã„ãï¼‰ãŒå¥½ãï¼Ÿ",
    options: [
      { icon: "ğŸ†", label: "ãƒãƒ¼ãƒ ã§åŠ›ã‚’åˆã‚ã›ã‚‹", tags: ["ã‚¹ãƒãƒ¼ãƒ„ï¼ˆãƒãƒ¼ãƒ ï¼‰"] },
      { icon: "ğŸ§", label: "ä¸€äººã§é›†ä¸­ã—ã¦ã¨ã‚Šãã‚€", tags: ["å­¦ç¿’", "ã“ã“ã‚", "ã‚¢ãƒ¼ãƒˆ"] },
      { icon: "ğŸ­", label: "ã¿ã‚“ãªã®å‰ã§ç™ºè¡¨ã™ã‚‹", tags: ["éŸ³æ¥½", "ãƒ€ãƒ³ã‚¹"] },
      { icon: "ğŸ¤", label: "å°‘äººæ•°ã§ã‚ãã‚ã„ã‚ã„", tags: ["ã‚¹ãƒãƒ¼ãƒ„ï¼ˆå°‘äººæ•°ï¼‰", "æ–‡åŒ–"] },
    ]
  },
  {
    text: "ğŸŒŸ å°†æ¥ã‚„ã£ã¦ã¿ãŸã„ã“ã¨ã«è¿‘ã„ã®ã¯ï¼Ÿ",
    options: [
      { icon: "ğŸ…", label: "ã‚¹ãƒãƒ¼ãƒ„ã›ã‚“æ‰‹ãƒ»ä½“ã‚’ä½¿ã†ä»•äº‹", tags: ["ã‚¹ãƒãƒ¼ãƒ„"] },
      { icon: "ğŸ¤", label: "éŸ³æ¥½å®¶ãƒ»ãƒ€ãƒ³ã‚µãƒ¼ãƒ»èŠ¸è¡“å®¶", tags: ["éŸ³æ¥½", "ãƒ€ãƒ³ã‚¹", "ã‚¢ãƒ¼ãƒˆ"] },
      { icon: "ğŸ’»", label: "ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼ãƒ»ç ”ç©¶è€…ãƒ»åŒ»è€…", tags: ["å­¦ç¿’", "å…ˆé€²"] },
      { icon: "ğŸ€", label: "ã¾ã ã‚ˆãã‚ã‹ã‚‰ãªã„ãƒ»ãªã‚“ã§ã‚‚ã‚„ã‚ŠãŸã„", tags: ["ã‚¢ãƒ¼ãƒˆ", "è‡ªç„¶", "æ–‡åŒ–"] },
    ]
  },
  {
    text: "ğŸ¯ ç¿’ã„äº‹ã«å¯¾ã—ã¦å¤§äº‹ãªã®ã¯ï¼Ÿ",
    options: [
      { icon: "ğŸ”¥", label: "ã—ã£ã‹ã‚Šè©¦åˆãƒ»ç™ºè¡¨ãŒã‚ã‚‹", tags: ["ã‚¹ãƒãƒ¼ãƒ„", "éŸ³æ¥½", "ãƒ€ãƒ³ã‚¹"] },
      { icon: "ğŸ“…", label: "è‡ªåˆ†ã®ãƒšãƒ¼ã‚¹ã§ã§ãã‚‹", tags: ["ã‚¢ãƒ¼ãƒˆ", "ã“ã“ã‚"] },
      { icon: "ğŸŒ±", label: "å°†æ¥ã«ã‚‚å½¹ç«‹ã¤ã‚¹ã‚­ãƒ«", tags: ["å­¦ç¿’", "å…ˆé€²"] },
      { icon: "ğŸ‰", label: "ã¨ã«ã‹ãæ¥½ã—ã„ãƒ»å‹é”ãŒã§ãã‚‹", tags: ["ã‚¹ãƒãƒ¼ãƒ„ï¼ˆãƒãƒ¼ãƒ ï¼‰", "ãƒ€ãƒ³ã‚¹", "æ–‡åŒ–"] },
    ]
  }
];

/* ====================================
   ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ãƒãƒƒãƒ—
==================================== */
const tagToCategory = {
  "ã‚¹ãƒãƒ¼ãƒ„": ["âš½ ã‚¹ãƒãƒ¼ãƒ„ï¼ˆãƒãƒ¼ãƒ ï¼‰", "ğŸƒ ã‚¹ãƒãƒ¼ãƒ„ï¼ˆä¸€äººãƒ»å°‘äººæ•°ï¼‰"],
  "ã‚¹ãƒãƒ¼ãƒ„ï¼ˆãƒãƒ¼ãƒ ï¼‰": ["âš½ ã‚¹ãƒãƒ¼ãƒ„ï¼ˆãƒãƒ¼ãƒ ï¼‰"],
  "ã‚¹ãƒãƒ¼ãƒ„ï¼ˆå°‘äººæ•°ï¼‰": ["ğŸƒ ã‚¹ãƒãƒ¼ãƒ„ï¼ˆä¸€äººãƒ»å°‘äººæ•°ï¼‰"],
  "éŸ³æ¥½": ["ğŸµ éŸ³æ¥½"],
  "ãƒ€ãƒ³ã‚¹": ["ğŸ’ƒ ãƒ€ãƒ³ã‚¹ãƒ»æ¼”æŠ€"],
  "ã‚¢ãƒ¼ãƒˆ": ["ğŸ¨ ã‚¢ãƒ¼ãƒˆãƒ»ã‚‚ã®ã¥ãã‚Š"],
  "å­¦ç¿’": ["ğŸ“š å­¦ç¿’ãƒ»ã‚¹ã‚­ãƒ«"],
  "ã“ã“ã‚": ["ğŸ§˜ ã“ã“ã‚ã¨ã‹ã‚‰ã "],
  "è‡ªç„¶": ["ğŸŒ¿ è‡ªç„¶ãƒ»ã‚¢ã‚¦ãƒˆãƒ‰ã‚¢"],
  "æ–‡åŒ–": ["ğŸ­ æ–‡åŒ–ãƒ»ä¼çµ±"],
  "å…ˆé€²": ["ğŸš€ å…ˆé€²ãƒ»ãƒ¦ãƒ‹ãƒ¼ã‚¯"],
};

/* ====================================
   çŠ¶æ…‹ç®¡ç†
==================================== */
let currentQ = 0;
let answers = new Array(questions.length).fill(null);

/* ====================================
   DOMæ§‹ç¯‰: 100ãƒªã‚¹ãƒˆ
==================================== */
function buildHobbyList() {
  const container = document.getElementById('hobby-list-container');
  let num = 1;
  categories.forEach(cat => {
    const div = document.createElement('div');
    div.className = 'category';
    div.innerHTML = `<div class="cat-header" style="background:${cat.color}">${cat.name}</div>
      <div class="hobby-grid">${cat.hobbies.map(h => `<div class="hobby-chip" style="border-color:${cat.color}22">
        <strong style="color:${cat.color};font-size:11px;">No.${num++}</strong><br>${h}
      </div>`).join('')}</div>`;
    container.appendChild(div);
  });
}

/* ====================================
   ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
==================================== */
function showSection(id) {
  document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  window.scrollTo({top: 0, behavior: 'smooth'});
}

function goToQuiz() {
  currentQ = 0;
  answers = new Array(questions.length).fill(null);
  renderQuestion();
  showSection('sec-quiz');
}

function goToList() { showSection('sec-list'); }
function restartQuiz() { goToQuiz(); }

/* ====================================
   ã‚¯ã‚¤ã‚ºæç”»
==================================== */
function renderQuestion() {
  const q = questions[currentQ];
  document.getElementById('q-num').textContent = `å•é¡Œ ${currentQ + 1} / ${questions.length}`;
  document.getElementById('q-text').textContent = q.text;
  document.getElementById('progress-bar').style.width = `${(currentQ / questions.length) * 100}%`;

  const opts = document.getElementById('q-options');
  opts.innerHTML = q.options.map((o, i) => `
    <button class="opt-btn ${answers[currentQ] === i ? 'selected' : ''}" onclick="selectAnswer(${i})">
      <span class="opt-icon">${o.icon}</span>
      <span>${o.label}</span>
    </button>
  `).join('');

  document.getElementById('prev-btn').disabled = currentQ === 0;
  const nextBtn = document.getElementById('next-btn');
  if (currentQ === questions.length - 1) {
    nextBtn.textContent = 'çµæœã‚’è¦‹ã‚‹ï¼ğŸ‰';
    nextBtn.onclick = showResult;
  } else {
    nextBtn.textContent = 'ã¤ãã¸ â†’';
    nextBtn.onclick = nextQ;
  }
}

function selectAnswer(i) {
  answers[currentQ] = i;
  renderQuestion();
}

function nextQ() {
  if (answers[currentQ] === null) {
    const btns = document.querySelectorAll('.opt-btn');
    btns.forEach(b => { b.style.animation = 'none'; b.offsetHeight; b.style.animation = 'shake 0.3s'; });
    return;
  }
  if (currentQ < questions.length - 1) { currentQ++; renderQuestion(); }
}

function prevQ() {
  if (currentQ > 0) { currentQ--; renderQuestion(); }
}

/* ====================================
   çµæœè¨ˆç®—
==================================== */
function showResult() {
  if (answers[currentQ] === null) return;

  // ã‚¹ã‚³ã‚¢ã‚’é›†è¨ˆ
  const catScore = {};
  categories.forEach(cat => catScore[cat.name] = 0);

  answers.forEach((ansIdx, qIdx) => {
    if (ansIdx === null) return;
    const tags = questions[qIdx].options[ansIdx].tags;
    tags.forEach(tag => {
      const cats = tagToCategory[tag] || [];
      cats.forEach(c => { if (catScore[c] !== undefined) catScore[c] += 3; });
      // å®Œå…¨ä¸€è‡´ã§ãªãã¦ã‚‚éƒ¨åˆ†ä¸€è‡´ã§ã‚¹ã‚³ã‚¢åŠ ç®—
      categories.forEach(cat => {
        if (cat.name.includes(tag) || tag.includes('ã‚¹ãƒãƒ¼ãƒ„') && cat.name.includes('ã‚¹ãƒãƒ¼ãƒ„')) {
          catScore[cat.name] = (catScore[cat.name] || 0) + 1;
        }
      });
    });
  });

  // ã‚¹ã‚³ã‚¢ãŒé«˜ã„ã‚«ãƒ†ã‚´ãƒªé †ã«ç¿’ã„äº‹ã‚’5ã¤é¸å‡º
  const sortedCats = Object.entries(catScore).sort((a, b) => b[1] - a[1]);
  const top5 = [];
  const usedCats = new Set();
  sortedCats.forEach(([catName, score]) => {
    if (top5.length >= 5) return;
    const cat = categories.find(c => c.name === catName);
    if (!cat) return;
    // ãã®ã‚«ãƒ†ã‚´ãƒªã‹ã‚‰1ã¤é¸ã¶ï¼ˆå…ˆé ­ï¼‰
    const hobby = cat.hobbies[Math.floor(Math.random() * Math.min(3, cat.hobbies.length))];
    top5.push({ hobby, catName, cat, score });
  });

  // è¶³ã‚Šãªã„å ´åˆã¯è£œå®Œ
  if (top5.length < 5) {
    categories.forEach(cat => {
      if (top5.length >= 5) return;
      if (top5.some(r => r.catName === cat.name)) return;
      top5.push({ hobby: cat.hobbies[0], catName: cat.name, cat, score: 0 });
    });
  }

  const reasons = [
    "ã‚ãªãŸã®ç­”ãˆã‹ã‚‰ã€ã“ã®ã‚¸ãƒ£ãƒ³ãƒ«ãŒã¨ã¦ã‚‚åˆã„ãã†ã§ã™ï¼",
    "ã‚ãªãŸã®å¥½ããªã“ã¨ã¨ã€ã“ã®ç¿’ã„äº‹ã¯ã´ã£ãŸã‚Šã§ã™ï¼",
    "ã‚ãªãŸã®ã‚ã–ã™å§¿ã«è¿‘ã„ç¿’ã„äº‹ã§ã™ï¼ãœã²ãŸã‚ã—ã¦ã¿ã¦ï¼",
    "æ¥½ã—ã¿ãªãŒã‚‰ã¤ã¥ã‘ã‚‰ã‚Œãã†ãªç¿’ã„äº‹ã§ã™ï¼",
    "å°‘ã—æ„å¤–ã‹ã‚‚ã—ã‚Œãªã„ã‘ã©ã€ãã£ã¨ã¯ã¾ã‚‹ã¯ãšï¼"
  ];

  const rankEmojis = ["ğŸ¥‡", "ğŸ¥ˆ", "ğŸ¥‰", "4ï¸âƒ£", "5ï¸âƒ£"];

  const list = document.getElementById('result-list');
  list.innerHTML = top5.slice(0, 5).map((r, i) => `
    <div class="result-card">
      <div class="rank-badge">${rankEmojis[i]}</div>
      <div class="result-info">
        <div class="result-hobby">${r.hobby}</div>
        <div style="font-size:12px;color:#aaa;margin-top:2px;">${r.catName}</div>
        <div class="result-reason">${reasons[i]}</div>
      </div>
      <div class="result-emoji">${getEmoji(r.catName)}</div>
    </div>
  `).join('');

  showSection('sec-result');
}

function getEmoji(catName) {
  if (catName.includes('ã‚¹ãƒãƒ¼ãƒ„ï¼ˆãƒãƒ¼ãƒ ï¼‰')) return 'âš½';
  if (catName.includes('ã‚¹ãƒãƒ¼ãƒ„')) return 'ğŸƒ';
  if (catName.includes('éŸ³æ¥½')) return 'ğŸµ';
  if (catName.includes('ãƒ€ãƒ³ã‚¹')) return 'ğŸ’ƒ';
  if (catName.includes('ã‚¢ãƒ¼ãƒˆ')) return 'ğŸ¨';
  if (catName.includes('å­¦ç¿’')) return 'ğŸ“š';
  if (catName.includes('è‡ªç„¶')) return 'ğŸŒ¿';
  if (catName.includes('ã“ã“ã‚')) return 'ğŸ§˜';
  if (catName.includes('æ–‡åŒ–')) return 'ğŸ­';
  if (catName.includes('å…ˆé€²')) return 'ğŸš€';
  return 'â­';
}

/* ====================================
   åˆæœŸåŒ–
==================================== */
buildHobbyList();
</script>
</body>
</html>
